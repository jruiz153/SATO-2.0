<form [formGroup]="forma" (ngSubmit)="grabar()">
    <!-- informacion general -->
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-body">

                        <div class="form-group">
                            <div class="col-sm-3 col-md-3 col-lg-3">
                                <mat-form-field class="full-width">
                                    <input type="txtPlanilla" formControlName="txtPlanilla" style="font-weight: bold;color:#D4001B; font-size:14px;" matInput placeholder="Planilla recolecciÃ³n">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3 col-md-3 col-lg-3">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione fecha</mat-label>
                                    <input matInput [matDatepicker]="picker" formControlName="txtFecha">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-3 col-md-3 col-lg-3">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione embalaje</mat-label>
                                    <mat-select formControlName="drpEmbalaje" id="drpEmbalaje" autofocus>
                                        <mat-option>--Seleccione embalaje--</mat-option>
                                        <mat-option value="CA"><i class="fas fa-box-open"></i> &nbsp; CAJAS</mat-option>
                                        <mat-option value="PA"><i class="fas fa-box"></i> &nbsp; PAQUETES</mat-option>
                                        <mat-option value="SO"><i class="fas fa-envelope"></i> &nbsp; SOBRES</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <!-- <div class="col-sm-3 col-md-3 col-lg-3">
                                <mat-form-field class="full-width">
                                    <mat-label>Tipo planilla</mat-label>
                                    <mat-select formControlName="drpTipo" id="drpTipo" (selectionChange)="consultarParametrosTipo()">
                                        <mat-option>--Seleccione--</mat-option>
                                        <mat-option value="PROPIOS"><i class="fas fa-user"></i> &nbsp; PROPIOS</mat-option>
                                        <mat-option value="RX"><i class="fas fa-user"></i> &nbsp; REEXPEDIDORES</mat-option>
                                        <mat-option value="CO"><i class="fas fa-user"></i> &nbsp; CONTRATISTAS B</mat-option>
                                        <mat-option value="TERCEROS"><i class="fas fa-user"></i> &nbsp; TERCEROS</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div> -->
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <app-loading *ngIf="cargando"></app-loading>
    </div>
    <!-- panel propios -->
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-12 col-md-6 col-lg-6">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                        Zona y frente
                    </div>
                    <div class="panel-body text-center">

                        <div class="form-group">
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoZona" formControlName="txtCodigoZona" matInput placeholder="Cod zona" (change)="buscarCodigo()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione zona</mat-label>
                                    <mat-select formControlName="drpZona" id="drpZona">
                                        <mat-option>--Seleccione zona--</mat-option>
                                        <mat-option *ngFor="let o of operadores" value="{{ o.Codigo }}">{{ o.Nom_Empleado }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoFrente" formControlName="txtCodigoFrente" matInput placeholder="Cod frente" (change)="buscarCodigo()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione frente</mat-label>
                                    <mat-select formControlName="drpFrente" id="drpFrente">
                                        <mat-option>--Seleccione frente--</mat-option>
                                        <mat-option *ngFor="let o of operadores" value="{{ o.Codigo }}">{{ o.Nom_Empleado }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtPlaca" formControlName="txtPlaca" matInput placeholder="placa" (change)="buscarPlaca()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <input type="txtTipoPlaca" formControlName="txtTipoPlaca" matInput placeholder="tipo placa" disabled="true">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoConduce" formControlName="txtCodigoConduce" matInput placeholder="Cod conduce" (change)="buscarCodigoConduce()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <input type="txtConduce" formControlName="txtCodigoFrente" matInput placeholder="Cod frente" disabled="true">
                                </mat-form-field>
                            </div>
                        </div>



                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-6">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                        Operadores
                    </div>
                    <div class="panel-body text-center">

                        <div class="form-group">
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoOperador" formControlName="txtCodigoOperador" matInput placeholder="Codigo" (change)="buscarCodigo()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione operador</mat-label>
                                    <mat-select formControlName="drpOperador" id="drpEmbalaje">
                                        <mat-option>--Seleccione operador--</mat-option>
                                        <mat-option *ngFor="let o of operadores" value="{{ o.Codigo }}">{{ o.Nom_Empleado }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoOperador" formControlName="txtCodigoOperador" matInput placeholder="Codigo" (change)="buscarCodigo()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione operador</mat-label>
                                    <mat-select formControlName="drpOperador" id="drpEmbalaje">
                                        <mat-option>--Seleccione operador--</mat-option>
                                        <mat-option *ngFor="let o of operadores" value="{{ o.Codigo }}">{{ o.Nom_Empleado }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoOperador" formControlName="txtCodigoOperador" matInput placeholder="Codigo" (change)="buscarCodigo()">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione operador</mat-label>
                                    <mat-select formControlName="drpOperador" id="drpEmbalaje">
                                        <mat-option>--Seleccione operador--</mat-option>
                                        <mat-option *ngFor="let o of operadores" value="{{ o.Codigo }}">{{ o.Nom_Empleado }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-2">
                                <mat-form-field class="full-width">
                                    <input type="txtCodigoOperador" formControlName="txtCodigoOperador" matInput placeholder="Codigo">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field class="full-width">
                                    <mat-label>Seleccione operador</mat-label>
                                    <mat-select formControlName="drpOperador" id="drpEmbalaje">
                                        <mat-option>--Seleccione operador--</mat-option>
                                        <mat-option *ngFor="let o of operadores" value="{{ o.Codigo }}">{{ o.Nom_Empleado }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- guias -->
    <div class="form-horizontal">

        <!-- *ngIf="guias.length > 0" -->
        <div class="form-group">
            <div class="col-sm-12">
                <div class="panel panel-default">

                    <div class="panel-body text-center" style="overflow: scroll; height: 150px;">
                        <div class="col-sm-12">


                            <table class="tabla tabla-bordered" style="width:2500px;overflow: scroll;">
                                <tr style="font-weight: bold;" align="center">
                                    <td></td>
                                    <td>Aviso</td>
                                    <td>Estado</td>
                                    <td>Ruta</td>
                                    <td>Orden S.</td>
                                    <td>Cuenta</td>
                                    <td>Cliente</td>
                                    <td>DirecciÃ³n</td>
                                    <td>Ciudad</td>
                                    <td>H.Inicial</td>
                                    <td>H.Final</td>
                                    <td>Nota</td>
                                    <td>Contacto</td>
                                    <td>Telefono</td>
                                    <td>CajasP.ini-P.Final</td>
                                    <td>Sobres</td>
                                    <td>Valor.Decla</td>
                                    <td>Ultima soluciÃ³n</td>
                                    <td>Observaciones</td>
                                    <td>GuÃ­a online</td>
                                    <td>Ciudades D.</td>
                                    <td>Tel cliente D.</td>
                                    <td>Cliente D.</td>
                                    <td>Nom destinatario D.</td>
                                    <td>Dir cliente D.</td>
                                    <td>Creada el</td>
                                    <td>Fec. Rec.</td>
                                </tr>
                                <tr *ngFor="let os of oss; let i = index" [ngClass]="{success: os_activo == i}">
                                    <td [matMenuTriggerFor]="appMenu" (click)="detalleOS(os,i)">
                                        <i class="fas fa-map-marker-alt" style="font-size: 14px;"></i>
                                        <mat-menu #appMenu #contextMenu2="matMenu">
                                            <ng-template matMenuContent let-item="pl">
                                                <button *ngFor="let planilla of planillas" mat-menu-item (click)="asignarOSPlanilla(planilla.Num_PlanillaR)">{{planilla.Nro_Placa}} - {{planilla.Num_PlanillaR}} - {{planilla.Nom_Zona}}</button>
                                            </ng-template>
                                        </mat-menu>
                                    </td>
                                    <td></td>
                                    <td>{{ os.Estado }}</td>
                                    <td>{{ os.Nom_Ruta }}</td>
                                    <td>{{ os.Num_OrdenS }}</td>
                                    <td>{{ os.Cuenta }}</td>
                                    <td>{{ os.Nom_Cliente }}</td>
                                    <td>{{ os.Dir_Cliente }}</td>
                                    <td>{{ os.CiudadD }}</td>
                                    <td>{{ os.HIni }}</td>
                                    <td>{{ os.HFin }}</td>
                                    <td></td>
                                    <td>{{ os.Contacto }}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>


                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- observaciones -->
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="form-group">
                            <div class="col-sm-12" style="text-align: center;">
                                <mat-radio-group>
                                    <mat-radio-button class="example-margin" value="insertar" style="padding: 8px;">Insertar guÃ­as</mat-radio-button>
                                    <mat-radio-button class="example-margin" value="quitar" style="padding: 8px;">Quitar guÃ­as</mat-radio-button>
                                    <mat-radio-button class="example-margin" value="novedades" style="padding: 8px;">Novedades</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <mat-form-field class="full-width">
                                    <input type="txtPlanilla" formControlName="txtPlanilla" matInput placeholder="Observaciones">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- totales -->

    <!-- botones -->
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-3" style="padding: 8px;">
                <button mat-raised-button (click)="grabar()" color="primary" class="full-width">Grabar</button>
            </div>
            <div class="col-sm-3" style="padding: 8px;">
                <button mat-raised-button (click)="anular()" color="primary" class="full-width">Anular</button>
            </div>
            <div class="col-sm-3" style="padding: 8px;">
                <button mat-raised-button (click)="nuevo()" color="primary" class="full-width">Nuevo</button>
            </div>
            <div class="col-sm-3" style="padding: 8px;">
                <button mat-raised-button (click)="imprimir()" color="primary" class="full-width">Imprimir</button>
            </div>
        </div>
    </div>
    {{ userS.acciones_s | json }}
</form>